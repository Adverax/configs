Пакет служит для каскадной загрузки конфигурации.

Фасад
=====
Пакет содержит фасад, реализующий основные требования к загрузчику конфигураций микросервисов:
- Загрузка происходит только из файлов YAML.
- Количество файлов - 1 или 2.
- Файлы каскадируются (действие второго перекрывает действие первого)
- Результат помещается в нативную структуру, размеченную тегами YAML.
- При загрузке объединенного файла, происходит его валидация на соответствие с правилами.
- Конфиг может иметь дефолтное значение полей.

Пример загрузки конфига:

~~~go
type MyConfig struct {
    MyName string `yaml:"name"`
    MyAlias string `yaml:"alias"`
}

func MakeDefaultConfig() *MyConfig {
	return &MyConfig{}
}

func main() {
    conf := MakeDefaultConfig()
	err := NewYamlLoader().
        WithFile("path/to/config-primary.yaml").
        WithFile("path/to/config-override.yaml").
        WithValidator(nil).
        Load(&conf)
    if err != nil {
        log.Fatalf("Failed to load config: %v", err)
    }
    // ... working with conf
}
~~~


Принцип работы
==============
Образы конфигурации могут извлекаться из любого местоположения. За это отвечает интерфейс Fetcher. Образ - это просто последовательность байт.

Обычно полученный образ имеет какой-то формат данных. За его декодирование отвечает DataSource, который преобразовывает последовательность байт в конфигурационны словарь.

Полученное множество словарей каскадно объединяются и результирующий словарь преобразуется в типизированный конфиг, при помощи Converter. Обычно, конвертер реализуется за счет маршалинга и парсинга данных в целевую структуру.


